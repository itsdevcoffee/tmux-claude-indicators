#!/bin/bash
# Enable Claude Code indicators in tmux - Cyberpunk theme
# Colors embedded directly in format strings (window-status-style gets overridden by tmux2k)

# Apply formats multiple times with delay to override tmux2k
for i in {1..3}; do
    # Non-current window format - Colors in format string
    tmux set -g window-status-format '#{?@claude-state,#{?#{==:#{@claude-state},active},#[bg=##300B5F#,fg=##FFFFFF#,bold],#{?#{==:#{@claude-state},thinking},#[bg=##F706CF#,fg=##FFFFFF#,bold],#{?#{==:#{@claude-state},question},#[bg=##791E94#,fg=##FFFFFF#,bold#,blink],#{?#{==:#{@claude-state},waiting},#[bg=##035EE8#,fg=##FFFFFF#,bold#,blink],#{?#{==:#{@claude-state},complete},#[bg=##02F78E#,fg=##000000#,bold],#[bg=default#,fg=default]}}}}},#[bg=##8B4513#,fg=##FFE4B5#,bold]} â”‚ #I #W#{?#{==:#{@claude-state},active}, ðŸ¤–,#{?#{==:#{@claude-state},complete}, âœ…,#{?#{==:#{@claude-state},waiting}, ðŸ«¦,#{?#{==:#{@claude-state},thinking}, #{@claude-thinking-frame},#{?#{==:#{@claude-state},question}, ðŸ”®,}}}}} '

    # Current window format - Arrow + colored text + NO background (transparent)
    tmux set -g window-status-current-format '#{?@claude-state,#{?#{==:#{@claude-state},active},#[bg=terminal#,fg=##300B5F#,bold],#{?#{==:#{@claude-state},thinking},#[bg=terminal#,fg=##F706CF#,bold],#{?#{==:#{@claude-state},question},#[bg=terminal#,fg=##791E94#,bold#,blink],#{?#{==:#{@claude-state},waiting},#[bg=terminal#,fg=##035EE8#,bold#,blink],#{?#{==:#{@claude-state},complete},#[bg=terminal#,fg=##02F78E#,bold],#[bg=default#,fg=default]}}}}},#[bg=terminal#,fg=##FF8C42#,bold]} â–¶ #I #W#{?#{==:#{@claude-state},active}, ðŸ¤–,#{?#{==:#{@claude-state},complete}, âœ…,#{?#{==:#{@claude-state},waiting}, ðŸ«¦,#{?#{==:#{@claude-state},thinking}, #{@claude-thinking-frame},#{?#{==:#{@claude-state},question}, ðŸ”®,}}}}} '

    sleep 0.1
done

tmux display-message "Claude indicators enabled - Cyberpunk theme"
